import{r as o,u as De,n as y,a as p,j as e,T as P,B as m,C as u,e as j,f as D,g as f,K as fe,d as v,i as we}from"./index-BvW6vA_w.js";import{D as H,a as Y,b as K,c as G,d as J,f as Q}from"./dialog-Dz39hnJR.js";import{L as d}from"./label-SlGcAB4q.js";import{T as Ne}from"./textarea-NB_NAYSZ.js";import{S,a as E,b as W,c as I,d as n}from"./select-CgTQIsYR.js";import{S as ve}from"./skeleton-Bdw8EXgx.js";import{E as Se}from"./EmployeeDropdown-DgM-kTJZ.js";import{C as M}from"./date-picker-BYk77_ec.js";import{P as Ee}from"./plus-c3UHNGiE.js";import{F as We}from"./filter-NMmCgUEe.js";import{E as Ie}from"./eye-cfsxeHQv.js";import{S as X}from"./square-pen-BGu5ARYy.js";import{C as B}from"./circle-check-big-Dz5mM00v.js";import{T as Fe}from"./trash-2-Cibh5KAu.js";import{D as be}from"./download-DqWMZ82E.js";import"./index-LHsGcG95.js";import"./input-B90b-HjG.js";import"./api-YnBVhvg1.js";import"./loader-circle-BhqU31H3.js";import"./popover-C9ru1Mgl.js";import"./getDaysInMonth-2as7pjyD.js";import"./chevron-left-Cr-a-3Sv.js";function Ze(){const[g,Z]=o.useState([]),[k,ee]=o.useState([]),[T,se]=o.useState([]),[t,U]=o.useState(null),[te,h]=o.useState(!1),[ae,F]=o.useState(!1),[w,b]=o.useState(!1),[re,$]=o.useState(!0),[L,le]=o.useState("all"),[A,ne]=o.useState("all"),[R,ie]=o.useState("all"),{toast:i}=De(),[a,x]=o.useState({EmployeeID:"",WarningTypeID:"",WarningDate:y(new Date,"yyyy-MM-dd"),Description:"",IssuedBy:"1",Status:"Pending",FollowUpRequired:!1,FollowUpDate:"",ExpiryDate:""});o.useEffect(()=>{ce()},[]);const ce=async()=>{$(!0);try{await Promise.all([N(),oe(),de()])}catch(s){console.error("Error fetching data:",s),i({title:"Error",description:"Failed to load data. Please refresh the page.",variant:"destructive"})}finally{$(!1)}},N=async()=>{try{const s=await p.warnings.list({page:0,pageSize:1e3,field:"WarningDate",sort:"DESC"});s.data&&Z(s.data)}catch(s){console.error("Error fetching warnings:",s),i({title:"Error",description:"Failed to fetch warnings. Please try again.",variant:"destructive"})}},oe=async()=>{try{const s=await p.warningTypes.list({page:0,pageSize:100});s.data&&ee(s.data)}catch(s){console.error("Error fetching warning types:",s),i({title:"Error",description:"Failed to fetch warning types. Please try again.",variant:"destructive"})}},de=async()=>{try{const s=["EmployeeID","FirstName","LastName","hrdepartment_HrDepartmentName"],r=await p.list("employees",{page:0,pageSize:1e3,select_fields:s.join(",")});r&&r.data&&se(r.data)}catch(s){console.error("Error fetching employees:",s)}},xe=async s=>{try{const r=await p.warnings.get(s.WarningID);U(r),h(!0)}catch(r){console.error("Error fetching warning details:",r),U(s),h(!0),i({title:"Warning",description:"Could not load full warning details. Showing basic information.",variant:"default"})}},me=async()=>{try{const s=T.find(c=>c.EmployeeID===parseInt(a.EmployeeID)),r=k.find(c=>c.WarningTypeID===parseInt(a.WarningTypeID));if(!s||!r){i({title:"Error",description:"Please select both employee and warning type",variant:"destructive"});return}const l={EmployeeID:parseInt(a.EmployeeID),WarningTypeID:parseInt(a.WarningTypeID),WarningDate:a.WarningDate,Description:a.Description,IssuedBy:parseInt(a.IssuedBy),Status:a.Status,FollowUpRequired:a.FollowUpRequired?1:0,FollowUpDate:a.FollowUpDate||null,ExpiryDate:a.ExpiryDate||ge(a.WarningDate)};await p.warnings.create(l),i({title:"Success",description:"Warning issued successfully"}),F(!1),C(),N()}catch(s){console.error("Error creating warning:",s),i({title:"Error",description:"Failed to create warning",variant:"destructive"})}},pe=async()=>{if(t)try{const s={...a,EmployeeID:parseInt(a.EmployeeID),WarningTypeID:parseInt(a.WarningTypeID),FollowUpRequired:a.FollowUpRequired?1:0};await p.warnings.update(t.WarningID,s),i({title:"Success",description:"Warning updated successfully"}),b(!1),C(),N()}catch(s){console.error("Error updating warning:",s),i({title:"Error",description:"Failed to update warning",variant:"destructive"})}},V=async s=>{try{await p.warnings.acknowledge(s,1),i({title:"Success",description:"Warning acknowledged"}),N(),h(!1)}catch(r){console.error("Error acknowledging warning:",r),i({title:"Error",description:"Failed to acknowledge warning",variant:"destructive"})}},he=async s=>{if(confirm("Are you sure you want to delete this warning?"))try{await p.warnings.delete(s),i({title:"Success",description:"Warning deleted successfully"}),N(),h(!1)}catch(r){console.error("Error deleting warning:",r),i({title:"Error",description:"Failed to delete warning",variant:"destructive"})}},O=s=>{U(s),x({EmployeeID:s.EmployeeID.toString(),WarningTypeID:s.WarningTypeID.toString(),WarningDate:s.WarningDate,Description:s.Description,IssuedBy:s.IssuedBy.toString(),Status:s.Status,FollowUpRequired:s.FollowUpRequired===1||s.FollowUpRequired===!0,FollowUpDate:s.FollowUpDate||"",ExpiryDate:s.ExpiryDate||""}),b(!0)},C=()=>{x({EmployeeID:"",WarningTypeID:"",WarningDate:y(new Date,"yyyy-MM-dd"),Description:"",IssuedBy:"1",Status:"Pending",FollowUpRequired:!1,FollowUpDate:"",ExpiryDate:""})},ge=s=>{const r=new Date(s);return r.setFullYear(r.getFullYear()+1),y(r,"yyyy-MM-dd")},ye=s=>{if(!s)return!1;const r=new Date(s),l=new Date;return l.setHours(0,0,0,0),r<l},q=s=>{if(!s)return"bg-gray-100 text-gray-800";switch(s){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-orange-100 text-orange-800";case 4:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=s=>{switch(s){case"Pending":return"bg-yellow-100 text-yellow-800";case"Acknowledged":return"bg-green-100 text-green-800";case"Expired":return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ue=s=>k.find(r=>r.WarningTypeID===s),_=g.map(s=>{const r=T.find(c=>c.EmployeeID===s.EmployeeID),l=ue(s.WarningTypeID);return{...s,EmployeeName:r?`${r.FirstName} ${r.LastName}`:"Unknown",Department:(r==null?void 0:r.hrdepartment_HrDepartmentName)||"N/A",WarningTypeName:(l==null?void 0:l.WarningTypeName)||"Unknown",SeverityLevel:(l==null?void 0:l.SeverityLevel)||1}}).filter(s=>{const r=L==="all"||s.Status===L,l=A==="all"||s.SeverityLevel===parseInt(A),c=R==="all"||s.EmployeeID===parseInt(R);return r&&l&&c}),je=[...new Set(g.map(s=>s.Status))];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(P,{className:"h-8 w-8 text-amber-500"}),"Employee Warnings"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and track employee warnings and disciplinary actions"})]}),e.jsxs(m,{onClick:()=>F(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Issue Warning"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsx(D,{className:"text-sm font-medium text-gray-500",children:"Total Warnings"})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"All time"})]})]}),e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsx(D,{className:"text-sm font-medium text-gray-500",children:"Pending"})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g.filter(s=>s.Status==="Pending").length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Requires attention"})]})]}),e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsx(D,{className:"text-sm font-medium text-gray-500",children:"Acknowledged"})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.filter(s=>s.Status==="Acknowledged").length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Resolved cases"})]})]}),e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsx(D,{className:"text-sm font-medium text-gray-500",children:"Follow-up Required"})}),e.jsxs(f,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.filter(s=>s.FollowUpRequired).length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Needs follow-up"})]})]})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),e.jsx(D,{children:"Filters"})]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"status-filter",children:"Status"}),e.jsxs(S,{value:L,onValueChange:le,children:[e.jsx(E,{children:e.jsx(W,{placeholder:"Filter by status"})}),e.jsxs(I,{children:[e.jsx(n,{value:"all",children:"All Statuses"}),je.map(s=>e.jsx(n,{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"severity-filter",children:"Severity"}),e.jsxs(S,{value:A,onValueChange:ne,children:[e.jsx(E,{children:e.jsx(W,{placeholder:"Filter by severity"})}),e.jsxs(I,{children:[e.jsx(n,{value:"all",children:"All Severities"}),e.jsx(n,{value:"1",children:"Low"}),e.jsx(n,{value:"2",children:"Medium"}),e.jsx(n,{value:"3",children:"High"}),e.jsx(n,{value:"4",children:"Critical"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"employee-filter",children:"Employee"}),e.jsxs(S,{value:R,onValueChange:ie,children:[e.jsx(E,{children:e.jsx(W,{placeholder:"Filter by employee"})}),e.jsxs(I,{children:[e.jsx(n,{value:"all",children:"All Employees"}),T.map(s=>e.jsxs(n,{value:s.EmployeeID.toString(),children:[s.FirstName," ",s.LastName]},s.EmployeeID))]})]})]})]})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(D,{children:"Warnings"})}),e.jsx(f,{children:re?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((s,r)=>e.jsx(ve,{className:"h-16 w-full"},r))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Severity"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Follow-up"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.length>0?_.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(fe,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.EmployeeName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.Department})]})]})}),e.jsxs("td",{className:"p-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.WarningTypeName}),e.jsxs("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:[s.Description.substring(0,50),s.Description.length>50?"...":""]})]}),e.jsx("td",{className:"p-4 whitespace-nowrap",children:e.jsxs(v,{className:`${q(s.SeverityLevel)}`,children:["Level ",s.SeverityLevel]})}),e.jsxs("td",{className:"p-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:new Date(s.WarningDate).toLocaleDateString()}),e.jsx("div",{className:"text-sm text-gray-500",children:s.ExpiryDate&&`Expires: ${new Date(s.ExpiryDate).toLocaleDateString()}`})]}),e.jsx("td",{className:"p-4 whitespace-nowrap",children:e.jsx(v,{className:z(s.Status),children:s.Status})}),e.jsx("td",{className:"p-4 whitespace-nowrap",children:s.FollowUpRequired?e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"h-4 w-4 text-amber-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.FollowUpDate?new Date(s.FollowUpDate).toLocaleDateString():"Not set"})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"Not required"})}),e.jsx("td",{className:"p-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>xe(s),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ie,{className:"h-4 w-4"})}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>O(s),className:"text-amber-600 hover:text-amber-800",children:e.jsx(X,{className:"h-4 w-4"})}),s.Status==="Pending"&&e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>V(s.WarningID),className:"text-green-600 hover:text-green-800",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>he(s.WarningID),className:"text-red-600 hover:text-red-800",children:e.jsx(Fe,{className:"h-4 w-4"})})]})})]},s.WarningID)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No warnings found matching your filters."})})})]})})})]})]}),e.jsx(H,{open:te,onOpenChange:h,children:e.jsxs(Y,{className:"max-w-2xl",children:[e.jsxs(K,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-amber-500"}),"Warning Details"]}),e.jsxs(J,{children:["View and manage warning details for ",t==null?void 0:t.EmployeeName]})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t.WarningTypeName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Issued on ",new Date(t.WarningDate).toLocaleDateString()]})]}),e.jsx(v,{className:z(t.Status),children:t.Status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Employee"}),e.jsx("p",{className:"mt-1",children:t.EmployeeName})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{className:"mt-1",children:t.Department||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Severity"}),e.jsx("div",{className:"mt-1",children:e.jsxs(v,{className:q(t.SeverityLevel),children:["Level ",t.SeverityLevel]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Issued By"}),e.jsx("p",{className:"mt-1",children:t.IssuedByName||"System Admin"})]}),t.ExpiryDate&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Expiry Date"}),e.jsxs("p",{className:"mt-1",children:[new Date(t.ExpiryDate).toLocaleDateString(),ye(t.ExpiryDate)&&e.jsx("span",{className:"ml-2 text-xs text-red-500",children:"(Expired)"})]})]}),t.FollowUpRequired&&t.FollowUpDate&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Follow-up Date"}),e.jsxs("p",{className:"mt-1",children:[new Date(t.FollowUpDate).toLocaleDateString(),new Date(t.FollowUpDate)<new Date&&e.jsx("span",{className:"ml-2 text-xs text-red-500",children:"(Due)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"mt-1 whitespace-pre-line",children:t.Description})]}),t.Status==="Acknowledged"&&t.AcknowledgementDate&&e.jsx("div",{className:"p-3 bg-green-50 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Acknowledged"}),e.jsx("p",{className:"text-xs text-green-600",children:new Date(t.AcknowledgementDate).toLocaleString()})]})]})})]}),e.jsxs(Q,{className:"sm:justify-between",children:[e.jsxs(m,{variant:"outline",onClick:()=>{t&&(O(t),h(!1))},children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Edit Warning"]}),e.jsxs("div",{className:"flex gap-2",children:[(t==null?void 0:t.Status)==="Pending"&&e.jsxs(m,{variant:"default",onClick:()=>{t&&(V(t.WarningID),h(!1))},children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Acknowledge Warning"]}),e.jsxs(m,{variant:"outline",onClick:()=>{var s;if(t){const r=new Blob([`Warning Letter

To: ${t.EmployeeName}
Department: ${t.Department||"N/A"}
Date: ${new Date(t.WarningDate).toLocaleDateString()}
Warning Type: ${t.WarningTypeName}
Severity: Level ${t.SeverityLevel}

Description:
${t.Description}

Issued By: ${t.IssuedByName||"System Admin"}
Status: ${t.Status}
`],{type:"text/plain"}),l=URL.createObjectURL(r),c=document.createElement("a");c.href=l,c.download=`warning_${(s=t.EmployeeName)==null?void 0:s.replace(/\s+/g,"_")}_${t.WarningDate}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}},children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]})}),e.jsx(H,{open:ae||w,onOpenChange:s=>{s||(F(!1),b(!1),C())},children:e.jsxs(Y,{className:"max-w-2xl",children:[e.jsxs(K,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-amber-500"}),w?"Edit Warning":"Issue New Warning"]}),e.jsx(J,{children:w?"Update the warning details below.":"Fill in the details below to issue a new warning."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"employee",children:"Employee *"}),e.jsx(Se,{value:a.EmployeeID,onValueChange:s=>x({...a,EmployeeID:s}),placeholder:"Select employee",employmentStatus:"Active"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"warningType",children:"Warning Type *"}),e.jsxs(S,{value:a.WarningTypeID,onValueChange:s=>x({...a,WarningTypeID:s}),children:[e.jsx(E,{children:e.jsx(W,{placeholder:"Select warning type"})}),e.jsx(I,{children:k.map(s=>e.jsx(n,{value:s.WarningTypeID.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:s.WarningTypeName}),e.jsxs(v,{variant:"outline",className:q(s.SeverityLevel),children:["Level ",s.SeverityLevel]})]})},s.WarningTypeID))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"warningDate",children:"Warning Date *"}),e.jsx(M,{date:a.WarningDate?new Date(a.WarningDate):void 0,onChange:s=>x({...a,WarningDate:s?y(s,"yyyy-MM-dd"):""})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"status",children:"Status"}),e.jsxs(S,{value:a.Status,onValueChange:s=>x({...a,Status:s}),children:[e.jsx(E,{children:e.jsx(W,{placeholder:"Select status"})}),e.jsxs(I,{children:[e.jsx(n,{value:"Pending",children:"Pending"}),e.jsx(n,{value:"Acknowledged",children:"Acknowledged"}),e.jsx(n,{value:"Resolved",children:"Resolved"}),e.jsx(n,{value:"Expired",children:"Expired"})]})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(d,{htmlFor:"description",children:"Description *"}),e.jsx(Ne,{id:"description",placeholder:"Enter warning description...",value:a.Description,onChange:s=>x({...a,Description:s.target.value}),rows:4})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"followUp",checked:a.FollowUpRequired,onChange:s=>x({...a,FollowUpRequired:s.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(d,{htmlFor:"followUp",children:"Follow-up required"})]}),a.FollowUpRequired&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"followUpDate",children:"Follow-up Date"}),e.jsx(M,{date:a.FollowUpDate?new Date(a.FollowUpDate):void 0,onChange:s=>x({...a,FollowUpDate:s?y(s,"yyyy-MM-dd"):""})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"expiryDate",children:"Expiry Date"}),e.jsx(M,{date:a.ExpiryDate?new Date(a.ExpiryDate):void 0,onChange:s=>x({...a,ExpiryDate:s?y(s,"yyyy-MM-dd"):""})}),e.jsx("p",{className:"text-xs text-gray-500",children:"If not set, will default to 1 year from warning date."})]})]}),e.jsxs(Q,{children:[e.jsx(m,{variant:"outline",onClick:()=>{F(!1),b(!1),C()},children:"Cancel"}),e.jsx(m,{onClick:w?pe:me,disabled:!a.EmployeeID||!a.WarningTypeID||!a.Description,children:w?"Update Warning":"Issue Warning"})]})]})})]})}export{Ze as default};
